      <!-- Confirm Delete Modal -->
      <div id="confirm-delete-modal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.3);align-items:center;justify-content:center;z-index:1100;">
        <div style="background:#fff;padding:2em 2em 1em 2em;border-radius:12px;min-width:300px;max-width:90vw;box-shadow:0 2px 16px rgba(0,0,0,0.12);display:flex;flex-direction:column;gap:1em;align-items:center;">
          <h3>Confirm Delete</h3>
          <p>Are you sure you want to delete this friend?</p>
          <div style="display:flex;gap:1em;">
            <button id="confirm-delete-btn" style="background:#ef4444;color:#fff;font-weight:bold;border:none;padding:0.5em 1.2em;border-radius:6px;cursor:pointer;">Confirm Delete</button>
            <button id="cancel-delete-btn" style="background:#eee;color:#222;font-weight:bold;border:none;padding:0.5em 1.2em;border-radius:6px;cursor:pointer;">Cancel</button>
          </div>
        </div>
      </div>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>All Friends Masterlist</title>
  <link rel="stylesheet" href="style.css">
</head>
<body style="margin:0;min-height:100vh;background:linear-gradient(135deg,#7f5af0 0%,#60a5fa 100%);">
  <!-- Removed top corner header -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" />
    <div class="afm-container">
  <button onclick="window.location.href='index.html'" class="afm-back-btn" style="display:flex;align-items:center;gap:0.5em;margin-bottom:1em;background:#1976d2;color:#fff;border:none;border-radius:20px;padding:0.5em 1.2em;cursor:pointer;font-size:1.1em;"><span style="font-size:1.3em;">&#8592;</span>Back to Home</button>
  <h1 class="afm-header">All Friends Masterlist</h1>
  <form id="add-friend-form" class="afm-add-form">
        <input type="text" id="friend-name" placeholder="Friend's Name" required>
        <input type="file" id="friend-pic-upload" accept="image/*" required>
        <button type="submit">Add Friend</button>
      </form>
  <div style="display:flex;align-items:flex-start;gap:1em;margin-bottom:1em;">
        <input type="text" id="friend-search" class="afm-search" placeholder="Search friends by name...">
        <select id="friend-filter" style="padding:0.5em;font-size:1em;">
          <option value="all">All</option>
          <option value="owe">I owe bro</option>
          <option value="owed">Bro owes me</option>
          <option value="clear">All clear</option>
        </select>
      </div>
  <button onclick="window.location.href='split-bill.html'" style="display:block;margin:1.5em auto 1em auto;background:#60a5fa;color:#fff;font-weight:bold;border:none;padding:0.8em 2em;border-radius:10px;cursor:pointer;font-size:1.15em;box-shadow:0 2px 8px rgba(96,165,250,0.12);">Split Bill</button>
  <div id="all-friends-list" class="afm-list"></div>
  <button id="logout-btn" style="position:fixed;top:18px;right:18px;z-index:1000;background:#ef4444;color:#fff;font-weight:bold;border:none;padding:0.6em 1.5em;border-radius:8px;cursor:pointer;font-size:1em;">Logout</button>
        <!-- Edit Friend Modal -->
        <div id="edit-friend-modal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.3);align-items:center;justify-content:center;z-index:1000;">
          <div style="background:#fff;padding:2em 2em 1em 2em;border-radius:12px;min-width:300px;max-width:90vw;box-shadow:0 2px 16px rgba(0,0,0,0.12);display:flex;flex-direction:column;gap:1em;">
            <h3>Edit Friend</h3>
            <!-- Removed original name input box -->
            <label>Name:<br><input id="edit-friend-name" type="text" style="width:100%;padding:0.5em;border-radius:8px;border:1px solid #ccc;"></label>
            <label>Default Currency:<br>
              <select id="edit-friend-currency" style="width:100%;padding:0.5em;border-radius:8px;border:1px solid #ccc;">
                <option value="HKD">HKD</option>
                <option value="USD">USD</option>
                <option value="CNY">CNY</option>
                <option value="EUR">EUR</option>
                <option value="JPY">JPY</option>
                <option value="GBP">GBP</option>
                <option value="KRW">KRW</option>
                <option value="AUD">AUD</option>
                <option value="CAD">CAD</option>
              </select>
            </label>
            <label>Profile Pic:<br><input id="edit-friend-pic-upload" type="file" accept="image/*"></label>
            <img id="edit-friend-pic-preview" src="" alt="Preview" style="width:60px;height:60px;border-radius:50%;object-fit:cover;display:none;">
            <div id="edit-friend-cropper-modal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.5);align-items:center;justify-content:center;z-index:1200;">
              <div style="background:#fff;padding:2em;border-radius:12px;box-shadow:0 2px 16px rgba(0,0,0,0.12);display:flex;flex-direction:column;align-items:center;">
                <img id="edit-friend-cropper-img" style="max-width:300px;max-height:300px;">
                <div style="margin-top:1em;display:flex;gap:1em;">
                  <button id="edit-friend-crop-confirm" style="background:#60a5fa;color:#fff;font-weight:bold;border:none;padding:0.5em 1.2em;border-radius:6px;cursor:pointer;">Crop & Save</button>
                  <button id="edit-friend-crop-cancel" style="background:#eee;color:#222;font-weight:bold;border:none;padding:0.5em 1.2em;border-radius:6px;cursor:pointer;">Cancel</button>
                </div>
              </div>
            </div>
            <div style="display:flex;justify-content:space-between;align-items:center;gap:1em;">
              <button id="edit-friend-save" style="background:#a7f3d0;color:#222;font-weight:bold;border:none;padding:0.5em 1.2em;border-radius:6px;cursor:pointer;">Save</button>
              <button id="edit-friend-delete" style="background:#f87171;color:#fff;font-weight:bold;border:none;padding:0.5em 1.2em;border-radius:6px;cursor:pointer;">Delete</button>
              <button id="edit-friend-cancel" style="background:#eee;color:#222;font-weight:bold;border:none;padding:0.5em 1.2em;border-radius:6px;cursor:pointer;">Cancel</button>
            </div>
          </div>
        </div>
  <button onclick="window.location.href='index.html'" class="afm-back-btn" style="display:flex;align-items:center;gap:0.5em;margin-bottom:1em;background:#1976d2;color:#fff;border:none;border-radius:20px;padding:0.5em 1.2em;cursor:pointer;font-size:1.1em;"><span style="font-size:1.3em;">&#8592;</span>Back to Home</button>
      <div id="crop-modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.7); align-items:center; justify-content:center; z-index:1000;">
        <div style="background:#fff; padding:2em; border-radius:12px; display:flex; flex-direction:column; align-items:center;">
          <img id="crop-image" style="max-width:300px; max-height:300px;">
          <div style="margin-top:1em;">
            <button id="crop-confirm" style="background:#1976d2; color:#fff; border:none; border-radius:20px; padding:0.5em 1.2em; cursor:pointer; font-size:1em;">Crop & Save</button>
            <button id="crop-cancel" style="margin-left:1em; background:#ccc; color:#333; border:none; border-radius:20px; padding:0.5em 1.2em; cursor:pointer; font-size:1em;">Cancel</button>
          </div>
        </div>
      </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
    </div>
  <!-- Removed duplicate back to home button and bottom list -->
  <!-- Removed bottom back to home link -->
  <script src="app.js"></script>
<script src="login.js"></script>
<script>
document.getElementById('logout-btn').onclick = function() { logout(); };
</script>
</body>
</html>
